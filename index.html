<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">

<!-- do not populate or add meta data, the SEO layer will add it -->
<title>Tikimaster.com</title><!-- this will get populated by the SEO layer -->

<!-- used for optional social media extensions -->
<meta property="og:type" content="" id='ogType' >
<meta property="og:image" content="" id='ogImage' >
<meta property="og:description" content="" id='ogDescription' >

<!-- Used for attempted cache control in various browsers http://stackoverflow.com/questions/1341089/using-meta-tags-to-turn-off-caching-in-all-browsers -->
<meta http-equiv="cache-control" content="max-age=0" />
<meta http-equiv="cache-control" content="no-cache" />
<meta http-equiv="expires" content="0" />
<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
<meta http-equiv="pragma" content="no-cache" />

<meta name="google-site-verification" content="Z2kZ5JFCDaKRNZ2X2OwAYPVgx0ws63VFMYircbCc8m4" />
<meta name="alexaVerifyID" content="s3m0KOC5ZTfJypY4m5th6AquAqw" />


<base href='' /><!-- leave blank so it works for a local file. updated to / if protocol is not file: -->

<meta name="description" content="">
<!--
<script type="text/javascript">
//var _gaq = _gaq || {'push':function(){}} //here for testing. REPLACE BEFORE DEPLOYMENT!
var _gaq = _gaq || [];
_gaq.push(['_setAccount','UA-668926-1']);
_gaq.push(['_trackPageview']);

// Google Trusted Store Config. Init happens in extensions/partner_google_analytics.js
var gts = gts || [];
gts.push(["id", "12117"]); 
gts.push(["google_base_offer_id", "ISLANDTIKIBARNA"]); // Some key product ID, related to this page - optional
gts.push(["google_base_subaccount_id", "1079369"]); // Google Shopping ID - optional
gts.push(["google_base_country", "US"]); // optional
gts.push(["google_base_language", "EN"]); // optional
// END Google Trusted Store Config

//set base url so images, css, js, etc all load from appropriate location once deployed.
//baseURL as blank lets loadScript function run off local copy when testing locally.
if(document.location.protocol == 'file:')	{
	baseURL  = "";
	}
else	{
	baseURL = document.location.protocol+"//"+document.domain+"/";
	}
document.getElementsByTagName('base')[0].href = baseURL;
</script>
-->

<script type="text/javascript">
var myCreole, baseURL;
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('require', 'linker');
ga('require', 'ecommerce', 'ecommerce.js');
ga('create', 'UA-668926-1', 'auto', {'allowLinker':true});
/*
ga('set', {
	'appName' : 'Tikimaster',
	'appID' : 'ZMVC',
	'appVersion' : '201411'
	});
*/
ga('send','pageview');
ga('send','screenview');

//set base url so images, css, js, etc all load from appropriate location once deployed.
//baseURL as blank lets loadScript function run off local copy when testing locally.
if(document.location.protocol == 'file:')	{
	baseURL  = "";
	}
else	{
	baseURL = document.location.protocol+"//"+document.domain+"/";
	}
document.getElementsByTagName('base')[0].href = baseURL;
</script>



<!--
all css includes need to be after the js that changes the base url.
css files should be included before any .js file to ensure they are downloaded in parallel
-->
<link rel="SHORTCUT ICON" href="favicon.ico" />
<link rel="ICON" href="favicon.ico" />


<link rel="stylesheet" type="text/css" href="jquery-ui-1.10.4.custom.min.css" />
<link rel="stylesheet" type="text/css" href="app-quickstart.css">
<link rel="stylesheet" type="text/css" href="_tikimaster_styles.css" />

<!-- jquery and jquery ui are pivotal to the functionality of the app. load them early -->
<script data-apptimize="embed" type="text/javascript" src="jquery.1.10.2.min.js"></script>
<script data-apptimize="embed" type="text/javascript" src="jquery.ui.1.10.2.min.js"></script>
<script data-apptimize="embed" type="text/javascript" src="controller.js"></script>
<script data-apptimize="embed" type="text/javascript" src="model.js"></script>

<!-- SCRIPTS -->
<script data-apptimize="embed" type="text/javascript" src="resources/jquery.showloading-v1.0.jt.js"></script>
<script data-apptimize="embed" type="text/javascript" src="resources/jsonpath.0.8.0.js"></script>
<script data-apptimize="embed" type="text/javascript" src="resources/tlc.js"></script>
<script data-apptimize="embed" type="text/javascript" src="resources/peg-0.8.0.js"></script>


<script data-apptimize="embed" type="text/javascript" src="https://sb.buysafe.com/private/rollover/rollover.js"></script>
<link data-apptimize="embed" rel="stylesheet" type="text/css" href="resources/anyplugins.css"/>
<link data-apptimize="embed" rel="stylesheet" type="text/css" href="extensions/checkout/styles.css"/>
<link data-apptimize="embed" rel="stylesheet" type="text/css" href="extensions/cart_message/styles.css"/>

<!-- ### TODO -> test how the load process goes w/ these in init. if includes is moved, move the new Parse  -->
<script data-apptimize="embed" type="text/javascript" src="resources/jquery.ui.anyplugins.js"></script>
<script data-apptimize="embed" type="text/javascript" src="includes.js"></script><!-- contains some polyfills and should be loaded early -->

<!--CUSTOM SCRIPTS-->
<script data-apptimize="embed" type="text/javascript" src="jquery.cycle2.min.js"></script>


<script type="text/javascript">
$.PromisePipeline = function(){
	var def = new $.Deferred();
	var deferreds = [];
	def.addDeferred = function(d){
		deferreds.push(d);
		}
	def.execute = function(){
		$.when.apply($,deferreds).done(function(){def.resolve();}).fail(function(){def.reject();});
		}
	return def;
}
</script>

<script data-apptimize="minify" type="text/javascript">
$(document).ready(function(){
	var paramStr = window.location.href.replace(window.location.hash, '').split('?')[1];
	if(!paramStr || paramStr.indexOf('_escaped_fragment_') < 0){
		window.myApp = new initApp({
		"release":"201411.20140116143500",  //increment this with each change. should solve caching issues. format: YYYYMMDDHHMMSS
		"_clientid":"zmvc", //zmvc for store app, 1pc for one page checkout.
		"baseURL":baseURL, //used in non-local mode.
		"checkoutAuthMode" : "active",//can be passive, active or required
		"testURL":"http://v201404.tikimaster.com/", //used ONLY if protocol is file: (for testing)
		"addjQueryPointer" : true,
		"analyticsPointer" : "ga"
			});
		myApp.u.loadScript('newinit.js?_v='+new Date().getTime());
		myCreole = new Parse.Simple.Creole();
		$('#appversion').text(myApp.vars.release);		
		}
	});
</script>
<script data-apptimize="minify" type="text/javascript">
var _robots = {
	hello : function(botStr){
		_robots._robotGreeting = botStr || true;
		console.log("Bot saying hello: "+botStr);
		return "1.0";
		},
	next : function(){
		//This implementation of _robots.next returns a function that simply blocks with a '100' until the app has been fully instantiated
		_robots.status = function(){
			if(typeof myApp !== 'undefined' && 
				typeof myApp.ext !== 'undefined' && 
				typeof myApp.ext.quickstart !== 'undefined' && 
				typeof myApp.ext.quickstart.vars !== 'undefined' &&
				myApp.ext.quickstart.vars.showContentFinished && myApp.ext.quickstart.vars.showContentCompleteFired){
				return 204;
				}
			else{
				return 100;
				}
			}
		},
	ready : function(){return false;},
	goodbye : function(){
		console.log("Bot saying goodbye: "+botStr);
		}
	}
</script>


</head>

<body>
<div id='appPreViewBG' class="displayNone"></div>

<div id='appPreView' class="displayNone">
	<div id="loader">
		<h3>Resetting your clock to island time. Aloha!</h3>
		<div class='alignCenter'>
			<progress id="appPreViewProgressBar" max="100" value="0" /><br />
		</div>
		<div id='appPreViewProgressText' class='alignCenter'>0% Complete</div>
	</div>
	
	<div id="clickToLoad" class="displayNone pointer">
		Click here to load your shopping experience!
	</div>
	<div class='appMessaging'></div>
</div>


<div id='appView'>

	<!-- HEADER -->
	<div id="header">

		<a href="/category/002"><img id="customCarvingLink" class="pointer shake" src='img/tk08_carvings-115x134.png' width='115' height='134' alt='Custom Carving' /></a>

		<div id="carvingEmporiumLink" class="shake"><a href='http://www.carvingemporium.com/' target="carvingemporium"><img src='img/tk08_carvemp-116x131.png' width='116' height='131' alt='Carving Emporium' /></a></div>

		<!-- holiday/xmas header = tk08_header_xmas-738x136.png -->

		<div id="headerLogo">
		  <img src='img/tk08_header-738x136.png' width='738' height='136' alt='TikiMaster.com - The Ultimate Tiki Source' />
		  <!--img src='img/tk08_header_xmas-738x136.png' width='738' height='136' alt='TikiMaster.com - The Ultimate Tiki Source' /-->
		</div>
	
		<div id="headerLogoBG"><img src='img/tk08_header_bg4-726x122.jpg' width='726' height='122' alt='' /></div>

		<div id="cartTotal">
			<div class="cartItemCount"></div>
			<div>$.00</div>
			<div class="cartTotal"></div>
		</div>

		<a href='#!home'><img id="homepageLink" class="pointer" src='img/blank.gif' width='440' height='120' alt='tikimaster.com' title='TikiMaster.com - The Ultimate Tiki Source' /></a>
		
		<a id="phoneLink" href="callto://8776774440" title='Call Us' alt='Call Us'></a>

		<div id="headerNav">
			<!--img class="pointer swing" src='img/tk08_specstores-976x57.png' width='976' height='57' alt='' usemap='#headerMap' /-->
			<a class="swing" href="/category/004/carved-tikis" alt='Tiki Decor' style="width:118px; background-position:0 0"></a>
			<a class="swing" href="/category/nautical_signs" alt='Nautical Decor' style="width:154px; background-position:-118px 0"></a>
			<a class="swing" href="/category/90" alt='Surf Decor' style="width:119px; background-position:-272px 0"></a>
			<a class="swing" href="/category/pirate_decor" alt='Pirate Decor'  style="width:136px; background-position:-391px 0"></a>
			<a class="swing" href="/category/beach_signs" alt='Beach Decor' style="width:137px; background-position:-527px 0"></a>
			<a class="swing" href="/category/coastal_decor" alt='Coastal Decor' style="width:144px; background-position:-664px 0"></a>
			<a class="swing" href="/category/skull_and_bones_decor" alt='Skull n Bones Decor' style="width:168px; background-position:-808px 0"></a>
		</div>

		<a id="cartLink" href="/cart/" alt='View Cart' title="View Cart"></a>

	</div>
	<!-- /HEADER -->
	
	<div id="bg1"><!-- bg1 empty div for left background - add class="xmas" for other theme -->
	<div id="bg2"><!-- bg2 empty div for right background -->
		
		<div class="searchAndBreadcrumb">
			<form name='headerSearchFrm' id='headerSearchFrm' action='#' class='productSearchForm marginLeft' method="get"  data-app-submit='quickstart|searchFormSubmit'>
				<input type='search' name='KEYWORDS' placeholder='Enter Search Term...' class="productSearchKeyword handleDefault" />
				<button id='mastHeadSearchButton' class='sprite' title='Product Search'></button>
			</form>
		</div>
		

<div id='globalMessaging' class='appMessaging'></div><!-- DO NOT REMOVE - used for some high level error handling (usually appears below breadcrumb nav or top bar) -->

<!-- These add specific functionality for the myApp. In most cases, you want to leave them alone. -->
<div id='appNav'>
	<button class='displayNone prodDetailNextItemButton' data-app-role='prodDetailNextItemButton'>Next</button>
	<button class='displayNone prodDetailPrevItemButton' data-app-role='prodDetailPrevItemButton'>Previous</button>
</div>

<div id='mainContentArea'></div><!-- DO NOT REMOVE - this is where the specific page (ex: homepage, product, category) content is going to go -->
	
	<div id="filterContainer">
		<div id="showFilterBtn" class="pointer" onClick="$(this).parent().toggleClass('expand');"></div>
		<div id="filterListContainer">
			<div class="alignCenter">
				<img src="images/filter_title_185x43.png" />
			</div>
			<div id="filterList"></div>
		</div>
	</div>
	
	<!-- /promo banners and social network logos -->
	<div class='wrapPromoBox'>
		<table>
			<tr>
				<td class='ztxt'>
					<div><img src='img/tk10_newshead-207x52.png' width='207' height='52' alt='do not miss our savings and discounts' title='Do not miss our savings and discounts' /></div>

					<div style='padding-top:5px;'>Our monthly newsletter will keep you up to date on our new items, special offers and closeouts. Subscribe and you are automatically entered to win our weekly sweepstakes! </div>
					<div id="footerSubscribeBar">
						<form action="#" name="subscribeFrm" data-app-submit="quickstart|subscribeSubmit">
							<input placeholder="email address" maxlength="50" size="30" required name="email" value="" type="email" data-tlc="bind $var '.customer.login'; if(is $var --notblank;) {{apply --select=$var;}};">
							<input class="submit" value="Subscribe" type="submit">
						</form>
					</div>
				</td>
	
				<td id="mobileLink">
					<div>
						<a href='http://m.tikimaster.com/'><img src='img/tk10_mobilebanner-181x85.png' width='181' height='85' alt='visit our mobile website at m.tikimaster.com'  /></a>
					</div>
				</td>
	
				<td id="socialLinks">
	
					<div><img src='img/tk10_socialhead-230x52.png' width='230' height='52' alt='Keep up with our news, values and tidbits' /></div>

					<div id="socialLinksContent">
						<a href='http://twitter.com/kamakani' target='twitter'><img src='img/socialb_logos/twitter-32x32.png' width='32' height='32' alt='tweet with us on twitter'  /></a>

						<a href='http://www.facebook.com/pages/Tikimaster-The-Store-Of-Hawaii/79606002155/' target='facebook'><img src='img/socialb_logos/facebook-32x32.png' width='32' height='32' alt='follow us on facebook'  /></a>

						<a href='/media/rss/tikimaster/912278.xml' target='rss'><img src='img/socialb_logos/rss-32x32.png' width='32' height='32' alt='subscribe to our rss feed'  /></a>

						<a href='http://pinterest.com/pin/164381455118977153/' target='pinterest'><img src='img/socialb_logos/tm12_pinterest-32x32.png' width='32' height='32' alt='Pinterest'  /></a>

					</div>
				</td>
			</tr>
		</table>
	</div>

	<img id="bannerBottom" src='img/tk10_bannerrow-942x84.png' alt='' width='942' height='84'  usemap="#bannerMap" />
	<!-- /promo banners and social network logos -->
	
	</div> <!-- bg2 background div end -->
	</div> <!-- bg1 background div end -->

	<!-- footer -->
	<div id="footer">
		<div id="footerNav">
			<span id="BuySafeSealFooter">
				<script type="text/javascript">
					WriteBuySafeSeal( 'BuySafeSealFooter', 'Small', 'HASH=AXwi%2Fc5sM86Xm%2BRskm5EMnqL1u%2BEuDRKGzUSBrit1%2FZch9%2BixqB61x13xqQScVHdsyqpSu%2B7%2FrSnafkdh2LUfg%3D%3D' );
				</script>
			</span>
			<div id="footerNavLeft"><img class="pointer" src='img/tk10_footer2-738x139.png' alt='' width='738' height='139' usemap='#zfooter_Map' /></div>

			<div id="footerNavRight">
				
				<!-- some inline css left from the old website - need to refactor this -->
				<div style='padding-top:40px;'>
				<!-- begin vignettes  
					increment = 20
					stores = 22
 				-->

					<table style='margin:6px auto;'>
						<tr>
							<td style='padding:0 10px;'><a class="featuredStore" href='#' title=''><img src='images/blank.gif'  alt='' /></a>
							</td>
						</tr>
					</table>
				</div>
			</div>

			<div class="spacer"></div>

			<div id='copyright'>
				<div class='zsmall'>
					<div>Copyright &copy; 2014. All images and information contained in this site are copyrighted and may not be distributed, modified or reproduced in whole or in part without the prior convert of Kamakani Enterprises, Inc.</div>
					<!--	<div>Please read our <a href='http://www.tikimaster.com/privacy.cgis'>Privacy Policy</a> -->
					<div><a href='https://www.zoovy.com/' class='zsmall' target='zoovy'>ecommerce by zoovy</a></div>
				</div>
				<!-- begin livechat_footer --><!-- BEGIN LIVECHAT track tag. See also www.livechatinc.com -->
				<script type="text/javascript" src="https://chat.livechatinc.net/licence/1018178/script.cgi?lang=en&amp;groups=0"></script>
				<!-- END LIVECHAT track tag. See also www.livechatinc.com --><!-- end livechat_footer -->
			</div>

			<div class="floatRight"><img src='img/tk10_paycons-208x17.gif' width='208' height='17' alt='we accept all major forms of payment' /></div>

			<div class="spacer"></div>
		</div>
	</div>
	<!-- /footer -->
	
	<!-- footer2 -->
	<div id="footer2">
		<table>
			<tr><!-- SIDEBAR -->
				<td>
					<a title="Click for the Business Review of Tikimaster.com, a Hawaiian Goods in Kailua HI" href="http://www.bbb.org/hawaii/business-reviews/hawaiian-goods/tikimastercom-in-kailua-hi-53004211#sealclick"><img alt="Click for the BBB Business Review of this Hawaiian Goods in Kailua HI" src="https://seal-hawaii.bbb.org/seals/blue-seal-250-52-whitetxt-tikimastercom-53004211.png" /></a>
				</td>
				<td><img width='115' border='0' height='55' src="img/ssl-geotrust.gif" /><!-- end GeoTrust Smart Icon tag --></td>
				<td>
				</td>
			</tr>
		</table>
	</div>
	<!-- /footer2 -->
	
	<!-- nav maps -->
	<map name="headerMap">
		<area shape="rect" coords="2,1,116,57" href="/category/004" alt='Tiki Decor' title='Tiki Decor' />
		<area shape="rect" coords="124,1,270,57" href="/category/nautical_signs" alt='Nautical Decor' title='Nautical Decor' />
		<area shape="rect" coords="276,1,394,57" href="/category/90" alt='Surf Decor' title='Surf Decor' />
		<area shape="rect" coords="398,1,523,57" href="/category/pirate_decor" alt='Pirate Decor' title='Pirate Decor' />
		<area shape="rect" coords="525,1,665,57" href="/category/beach_signs" alt='Beach Decor' title='Beach Decor' />
		<area shape="rect" coords="668,1,806,57" href="/category/coastal_decor" alt='Coastal Decor' title='Coastal Decor' />
		<area shape="rect" coords="808,1,972,57" href="/category/skull_and_bones_decor" alt='Skull n Bones Decor' title='Skull n Bones Decor' />
	</map>
	
	<map name='zfooter_Map'>
		<area shape='rect' coords='26,41,102,52' href="/return_policy/" alt='Return Policy' title='Return Policy' rel='nofollow' />
		<area shape='rect' coords='26,56,102,70' href="/contact_us/" alt='Contact Us' title='Contact Us' rel='nofollow' />
		<area shape='rect' coords='26,72,102,86' href="/shipping_policy/" alt='Shipping' title='Shipping' rel='nofollow' />
		<area shape='rect' coords='26,89,102,102' href="/orders/" alt='Tracking' title='Tracking' rel='nofollow' />
		<area shape='rect' coords='26,102,102,117' href="/category/002" alt='Services' title='Services' rel='nofollow' />

		<area shape='rect' coords='133,40,208,51' href="/contact_us/" alt='Locate Us' title='Locate Us' rel='nofollow' />
		<area shape='rect' coords='133,58,208,69' href="/about_us/" alt='About Us' title='About Us' rel='nofollow' />
		<area shape='rect' coords='133,71,208,86' href="/cart/" alt='View Cart' title='View Cart' rel='nofollow' />
		<area shape='rect' coords='133,87,208,103' href="/frequently_asked_questions/" alt='faq' title='faq' rel='nofollow' />
		<area shape='rect' coords='133,101,208,117' href="/privacy_policy/" alt='Privacy' title='Privacy' rel='nofollow' />

		<area shape='rect' coords='241,40,353,57' href="/my_account/" alt='Wholesale' title='Wholesale' rel='nofollow' />
		<area shape='rect' coords='241,59,353,73' href="/category/shipping_policy" alt='Drop Shipping' title='Drop Shipping' rel='nofollow' />
		<area shape='rect' coords='241,75,353,89' href="/affiliates/affiliates" alt='Affiliate Program' title='Affiliate Program' rel='nofollow' />

		<area shape='rect' coords='420,42,520,56' href="/category/001" alt='Learning Center' title='Learning Center' />
		<area shape='rect' coords='420,58,520,73' href="/category/tiki_topics" alt='Decor Topics' title='Decor Topics' />
		<area shape='rect' coords='420,75,520,90' href="/category/design_assistant" alt='Design Center' title='Design Center' />

		<area shape='rect' coords='563,40,628,55' href='http://www.facebook.com/pages/Tikimaster-The-Store-Of-Hawaii/79606002155/' alt='Facebook' title='Facebook' target='facebook' />
		<area shape='rect' coords='563,57,628,71' href='http://twitter.com/kamakani' alt='Twitter' title='Twitter @kamakani' target='twitter' />
		<area shape='rect' coords='563,72,627,89' href='http://blog.tikimaster.com' alt='Blog' title='Blog' target='blog' />
		<area shape='rect' coords='563,91,627,105' href="/category/media" alt='Tikimaster In the Media' title='Tikimaster In the Media' />

		<area shape='rect' coords='640,40,706,56' href="/videos/" alt='Videos' title='Videos' />
		<area shape='rect' coords='640,58,706,71' href='/media/rss/tikimaster/912278.xml' alt='rss' title='rss' target='rss' />
		<area shape='rect' coords='639,73,706,90' href="/my_wishlist/" alt='Wishlist' title='Wishlist' rel='nofollow' />

	</map>


	<map name="bannerMap">
		<area shape="rect" coords="1,1,282,77" href="/product/GIFTCERTIFICATE" alt='Gift Cards' title='Gift Cards' />
		<area shape="rect" coords="287,3,544,78" href="http://www.carvingemporium.com/" alt='Home Decor Stores' title='Home Decor Stores' />
		<area shape="rect" coords="548,2,941,77" href="#!affiliates/affiliates" alt='Business Opportunities' title='Business Opportunities' />
	</map>
	
	<!-- /nav maps -->

<!-- ... your html ends -->
<!-- /VIEW CONTENT -->
</div>










<!--
*************************************************************************************************************
**
**
**										C A R T   M E S S A G E   U I      S T A R T S      H E R E
**
** A mechanism where buyers and merchants can communicate in real time.
**
*************************************************************************************************************
-->



<div id='cartMessenger' class='displayNone seoStrip' data-app-role='cartMessenger' title="help">
	<form novalidate='novalidate' onSubmit="return false">
		<div class='messageHistoryContainer'>
			<section data-app-role='messageHistory'></section>
		</div>
		<fieldset data-app-role='messageInput' class='smallButton messageInputContainer displayNone'>
			<textarea name='message' required='required' class='fullWidth' rows='5' placeholder='send a message'></textarea>
			<button class='applyButton' data-app-click='cart_message|chatPostExec' data-app-role='messageSubmitButton'>Send Message</button>
		</fieldset>
		<input type='text' placeholder='first name' name='bill/firstname' value='' data-tlc="bind $var 'bill.firstname'; apply --select=$var;" data-app-blur='cco|cartSetAttrib' />
		<section data-app-role='messageCommands' class='messageCommandsContainer'>
		<button class='applyButton displayNone show4ActiveChat' data-app-click="quickstart|cartMessagePageSend" title='Show the associate what page I am on.'>Send Page</button>
		<button data-app-click="cart_message|cartCSRShortcutExec" class='applyButton hide4ActiveChat'>Cart Shortcut</button><!-- if the buyer is already on the phone w/ the merchant, they could use this so the admin can access the cart -->
		</section>
	</form>
</div>

<div id='loginFormForModal' class='loginOption displayNone seoStrip' title='Please log in'>

<!-- the contents of this div/id are toggled on/off when login/logout occurs. don't change the ID -->


	<p id='loginMessaging' class='marginBottom appMessaging'></p>

	<div id='loginFormContainer'>
		<form action='#' data-app-submit='quickstart|accountLoginSubmit' class='marginBottom alignedForm'>
		<input type='hidden' name='method' value='unsecure' />
		<input type='hidden' name='loginCallback' id='loginCallback' value='' /><!-- used to save a callback action in -->
			<fieldset>
			<legend>Account Login</legend>
			<label>
				<span class='prompt'>Login/Email</span>
				<input type='email' class='alignInput' required='required'  name='login' value='' size='25'  />
			</label>
			<label>
				<span class='prompt'>Password</span>
				<input type='password' class='alignInput' required='required'  name='password' value='' size='25'  />	
			</label>
			<div class='alignRight'>
			<input type='submit' value='log in' class='applyButton ' />
			</div>
			</fieldset>
		</form>

		<div id='recoverPasswordContainer' class='marginBottom'>
			<div id='recoverPasswordMessaging' class='appMessaging'></div>
			<form action='#' data-app-submit='quickstart|accountPasswordRecoverSubmit' class='alignedForm'>
			<fieldset>
			<legend>Recover Password</legend>
			<label>
				<span class='prompt'>Login/Email</span>
				<input type='text' name='login' required='required' size='25' class='alignInput' />
			</label>
			<div class='alignRight'><input type='submit' class='applyButton' value='Email Password to Me' /></div>
			</fieldset>
			</form>
		</div><!-- /recoverPasswordContainer -->

		<div>
		<!-- !!!!! NOT YET IMPLEMENTED -->
		<a class='applyButton' href='#!customer/newsletter'>Create Account</a>
		</div>
	</div>

<!-- this div will appear after a successful login. if you bind a new action to the button, best to empty the div and re-add the button, so the actions don't statck. -->
	<div id='loginSuccessContainer' class='center displayNone'>
		<button class='applyButton' id='modalLoginContinueButton' data-app-click="quickstart|dialogCloseExec">Continue</button>
	</div>

</div>



<div class='debug displayNone seoStrip'>
<table>
<tr>
	<td>
<ul class='debugQuickLinks'>
	<li>Store Links
	<ul>
		<li><a href='/'>Homepage</a></li>
		<li><a href='/my_order_history/'>Orders</a></li>
		<li><a href='/cart/' >Cart</a></li>
		<li><a href='/return_policy/'>Returns</a></li>
		<li><a href='/privacy_policy/'>Privacy</a></li>
		<li><a href='#' onClick="return quickView('category',{'navcat':'.air_fresheners','templateID':'categoryTemplate'});">Cat in Modal</a></li>
	</ul>
	</li>
	<li><a href='#' onClick="myApp.ext.quickstart.a.showBuyerCMUI();">Messaging UI</a>
	<li>Some JS test links
	<ul>
		<li><a href='#' onClick="localStorage.clear();">Clear Local Storage</a></li>
	</ul>
	</li>
</ul>
	</td>
	<td>
<form name='headerSearchFrm' action='#' class='productSearchForm marginLeft' method="get" data-app-submit='quickstart|searchFormSubmit'>
	<input type='search' name='KEYWORDS' placeholder='product search' class="productSearchKeyword handleDefault" />
	<button>Search</button>
</form>
	</td>
</tr>
</table>

</div>

<script type="text/pegjs" id="pegjs">
dataTLC
 = grammar+

grammar
 = _ cmd:(IfStatement) _ lb* { return cmd; }
 / _ cmd:(WhileLoopStatement) _ lb* { return cmd; }
 / _ cmd:(ForeachLoopStatement) _ lb* { return cmd; }
 / _ cmd:(BindStatement) _ lb* { return cmd; } 
 / _ cmd:(SetStatement) _ lb* { return cmd; } 
 / _ cmd:(ExportStatement) _ lb* { return cmd; } 
 / _ cmd:(command) _ lb* { return cmd; }

command
 = _ module:([a-z_]+ "#")? cmd:[a-z?]+ args:((ws+ value)+)? _ lb* {
     return {
       type: "command",
       module: module ? module[0].join("") : "core",
       name: cmd.join("").toLowerCase(),
       args: args ? args.map(function(a) { return a[1] }) : null
     }
   }


// ** BIND **
// bind $var 'something'; (jsonpath lookup)
// bind $var $someothervar; (jsonpath lookup)
// bind $var ~tag; (returns tag id/path)
// bind ~tag '#tagid'; jQuery('#tagid')
// bind ~tag $tagid jQuery($tagid)
BindStatement
 = "bind" _ set:(variable / tag) _ src:(variable / scalar / tag) _ lb+ {
  return { type:"BIND", Set:set, Src:src }
  }


// ** EXPORT **
// export 'key' --dataset=$var
// export '%key' --dataset=$var
ExportStatement
= "export" _ set:(scalar / variable) args:(ws+ value)+ _ lb+ {
  return { type:"EXPORT", Set:set, args: args ? args.map(function(a) { return a[1] }) : null } 
  }

// ** SET ** 
// set $dst $src --path='.xyz';
SetStatement
 = "set" _ set:(variable / tag) _ src:(variable / scalar / tag / boolean / integer) args:((ws+ value)+)? _ lb+ {
  return { type:"SET", Set:set, Src:src, args: args ? args.map(function(a) { return a[1] }) : null }
  }

// if (command) {{ }} else {{ }};
IfStatement
  = "if" _ "(" _ condition:command _ ")" _ ifStatement:Block elseStatement:(_ "else" _ Block)? _ lb+ {
      return ({
        type: "IF",
        When: condition,
        IsTrue: ifStatement,
        IsFalse: elseStatement !== null ? elseStatement[3] : null
      });
   }

// while (something) {{ inner loop }};
WhileLoopStatement
  = "while" _ "(" _ condition:command _ ")" _ whileStatement:Block lb+ {
      return ({
        type: "WHILE",
        While: condition,
        Loop: whileStatement,
      });
   }


// foreach $item in $items {{ inner loop }};
ForeachLoopStatement
  = "foreach" _ set:(variable) _ "in" _ members:(variable) _ loop:Block lb+ {
      return ({
        type: "FOREACH",
        Set: set,
        Members: members,
        Loop: loop,
      });
   }


Block
  = "{{" _ statements:(StatementList _)? "}}" {
      return {
        type: "Block",
        statements: statements !== null ? statements[0][0] : []
      };
    }

StatementList
  = head:Statement tail:(_ Statement)* {
      var result = [head];
      for (var i = 0; i < tail.length; i++) {
        result.push(tail[i][1]);
      }
      return result;
    }

Statement
  = Block
  / grammar+


/* value types */

// ~tag is a reference to a jquery object
tag
 = "~" tag:([a-zA-Z]+) {
   // tag table should maintain reference to tags on DOM
   return { type:"tag", tag:tag.join(""), jq:null }
   }

boolean
 = "true" {return{ "type":"boolean", "value": true }}
 / "false" {return{ "type":"boolean", "value": false }}

// longopt start with a --
longopt
 = "--" k:([a-zA-Z]+) "=" v:( value ) {
    return {
       type: "longopt",
       key: k.join(""),
       value: v
       }
    }
 / "--" k:([a-zA-Z]+) {
    return {
      type: "longopt",
      key: k.join(""),
      value: null
      }
    }


// scalar (string)
// NOTE: at this point there is no way to escape a ' in a string.
//
scalar
 = "'" v:([^']*) "'" {
     return {
       type: "scalar",
       value: v.join("")
     }
   }

// Variables can't start with a number
variable
 = "$" v:([a-zA-Z0-9_]*) {
     return {
       type: "variable",
       value: v.join("")
     }
   }

integer
  = digits:[0-9]+ {
      return {
        type: "integer",
        value: parseInt(digits.join(""), 10)
      }
    }

hexcolor
  = "#" v:([A-Fa-f0-9][A-Fa-f0-9][A-Fa-f0-9][A-Fa-f0-9][A-Fa-f0-9][A-Fa-f0-9]) {
     return { type:"hexcolor", value: v.join("") }
     }

additive
  = left:muldiv _ sign:[+-] _ right:additive {
      return {
        type: "command",
        name:sign,
        args:[left,right]
      }
    }
  / muldiv

muldiv
  = left:primary _ sign:[*/] _ right:muldiv {
      return {
        type: "command",
        name: sign,
        args:[left, right]
      }
    }
  / primary

primary
  = (variable / integer)
  / "(" _ additive:additive _ ")" { return additive; }

value
 = longopt / variable / integer / scalar / boolean / tag / hexcolor / additive

// /* i am a comment (i can only appear before a command) */
comment
  = "/*" (!"*/" SourceCharacter)* "*/" { return{}; }

SourceCharacter
  = .

ws
 = [ \t\n\r]

_
 = (ws / comment)*

lb
 = ";"


</script>

</body>
</html>
